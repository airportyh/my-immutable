<script src="https://cdnjs.cloudflare.com/ajax/libs/immutable/3.8.2/immutable.js" integrity="sha256-/2QRv/wHzmPJLRB351+bVXYjGU2Tk/bLfOt8XiVcmAg=" crossorigin="anonymous"></script>
<script>

    const history = [];
    const list = Immutable.List();
    history.push(list);
    for (let i = 0; i < 100000; i++) {
        const previous = history[history.length - 1];
        history.push(previous.push({ value: i + 1 }));
    }
    /*
    const history = [];
    const map = Immutable.Map();
    history.push(map);
    for (let i = 0; i < 100; i++) {
        const previous = history[history.length - 1];
        history.push(previous.set(String.fromCharCode(i + 48), i + 1));
    }*/
</script>
